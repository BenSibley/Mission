!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("id")){var g="fitvid"+Math.floor(999999*Math.random());b.attr("id",g)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),jQuery(document).ready(function(a){function b(){if(l.hasClass("open")){l.removeClass("open"),a(this).removeClass("open"),l.find(".current").removeClass("current"),l.find(".current-ancestor").removeClass("current-ancestor");var b=l.attr("class"),d=b.indexOf("tier-"),e=b.slice(d,d+6);l.removeClass(e),l.addClass("tier-1"),a(".label").text(""),a(this).children("span").text(mission_news_objectL10n.openMenu),a(this).attr("aria-expanded","false"),i.off("scroll mousewheel touchmove",c)}else l.addClass("open"),a(this).addClass("open"),a(this).children("span").text(mission_news_objectL10n.closeMenu),a(this).attr("aria-expanded","true"),i.on("scroll mousewheel touchmove",c)}function c(a){return a.preventDefault(),a.stopPropagation(),!1}function d(){if(window.innerWidth<800){var a=j.outerHeight(!1);i.hasClass("admin-bar")&&(a+=window.innerWidth<783?46:32),l.css("top",a+"px")}}function e(){var b=l.attr("class"),c=b.indexOf("tier-"),d=b.slice(c,c+6);l.removeClass(d);var e=d.slice(d.length-1,d.length);if(e="back-button"==a(this).attr("id")?parseInt(e)-1:parseInt(e)+1,d="tier-"+e,l.addClass(d),"back-button"==a(this).attr("id")){var f=l.find(".current");f.removeClass("current current-ancestor"),f.parent().parent().addClass("current")}else a(this).parents(".current").addClass("current-ancestor"),a(this).parents(".current").removeClass("current"),a(this).parent().addClass("current");a(".label").text("tier-1"==d?"":l.find(".current").children("a").text()),l.scrollTop(0)}function f(){window.innerWidth<800&&(l.append(m),m.addClass("moved"),l.append(o),o.addClass("moved"))}function g(){i.hasClass("display-search")?(i.removeClass("display-search"),j.find(".search-field").attr("tabindex",-1),i.off("scroll mousewheel touchmove",c)):(i.addClass("display-search"),j.find(".search-field").attr("tabindex",0),setTimeout(function(){a("#search-form-popup").find("#search-field").focus()},250),i.on("scroll mousewheel touchmove",c))}function h(){"object-fit"in document.body.style||a(".featured-image").each(function(){if(!a(this).parent().parent(".post").hasClass("ratio-natural")){var b=a(this).children("img").add(a(this).children("a").children("img"));if(b.hasClass("no-object-fit"))return;b.addClass("no-object-fit"),b.outerWidth()<a(this).outerWidth()&&b.css({width:"100%","min-width":"100%","max-width":"100%",height:"auto","min-height":"100%","max-height":"none"}),b.outerHeight()<a(this).outerHeight()&&b.css({height:"100%","min-height":"100%","max-height":"100%",width:"auto","min-width":"100%","max-width":"none"})}})}var i=a("body"),j=a("#site-header"),k=a("#toggle-navigation"),l=a("#menu-primary-container"),m=a("#menu-secondary-container"),n=a(".toggle-dropdown"),o=a("#social-media-icons");a(".post-content").fitVids({customSelector:'iframe[src*="dailymotion.com"], iframe[src*="slideshare.net"], iframe[src*="animoto.com"], iframe[src*="blip.tv"], iframe[src*="funnyordie.com"], iframe[src*="hulu.com"], iframe[src*="ted.com"], iframe[src*="wordpress.tv"]'}),h(),a(window).resize(function(){h(),d()}),a(document.body).on("post-load",function(){h()}),k.on("click",b),a(window).load(function(){d()}),n.on("click",e),a("#back-button").on("click",e),f(),a(window).resize(function(){window.innerWidth>800?(m.hasClass("moved")&&(m.removeClass("moved"),a(".top-nav").append(m)),o.hasClass("moved")&&(o.removeClass("moved"),a(".top-nav").append(o))):(m.hasClass("moved")||(l.append(m),m.addClass("moved")),o.hasClass("moved")||(l.append(o),o.addClass("moved")))}),a("#search-toggle").on("click",g),a("#close-search").on("click",g)});